<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />

    <!-- CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.min.css"
    />
  </head>

  <body>
    <form id="myForm">
      <label>Phone number</label>

      <input id="phone" type="tel" name="phone" placeholder="+250" />

      <input type="hidden" name="full_phone" id="full-phone" />
      <button type="submit">Submit</button>
    </form>

    <!-- Load scripts at bottom with defer -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"
      defer
    ></script>

    <script>
      window.addEventListener("DOMContentLoaded", function () {
        const phoneInputField = document.querySelector("#phone");

        const phoneInput = window.intlTelInput(phoneInputField, {
          preferredCountries: ["rw", "us", "gb"],
          separateDialCode: true,
          utilsScript:
            "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
        });

        const form = document.querySelector("#myForm");

        form.addEventListener("submit", function () {
          const fullNumber = phoneInput.getNumber();
          document.querySelector("#full-phone").value = fullNumber;
        });
      });
    </script>
  </body>
</html>
